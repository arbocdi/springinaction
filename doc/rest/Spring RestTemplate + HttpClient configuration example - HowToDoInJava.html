<!DOCTYPE html>
<html prefix="og: http://ogp.me/ns#" lang="en-US"><script type="text/javascript" async="" src="Spring%20RestTemplate%20+%20HttpClient%20configuration%20example%20-%20HowToDoInJava_files/cse.js"></script><script async="" src="Spring%20RestTemplate%20+%20HttpClient%20configuration%20example%20-%20HowToDoInJava_files/analytics.js"></script><script src="Spring%20RestTemplate%20+%20HttpClient%20configuration%20example%20-%20HowToDoInJava_files/inject.js"></script><head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8"><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1"><link type="text/css" media="all" href="Spring%20RestTemplate%20+%20HttpClient%20configuration%20example%20-%20HowToDoInJava_files/autoptimize_fb14e70500666498aa8f228a16c2b315.css" rel="stylesheet"><title>Spring RestTemplate + HttpClient configuration example - HowToDoInJava</title><meta name="description" content="In Spring RestTemplate example, we learned to access REST APIs. Here we are extending the RestTemplate configuration to use Apache HttpClient 4."><link rel="canonical" href="https://howtodoinjava.com/spring-restful/resttemplate-httpclient-java-config/"><link rel="publisher" href="https://plus.google.com/+LokeshGupta"><meta property="og:locale" content="en_US"><meta property="og:type" content="article"><meta property="og:title" content="Spring RestTemplate + HttpClient configuration example - HowToDoInJava"><meta property="og:description" content="In Spring RestTemplate example, we learned to access REST APIs. Here we are extending the RestTemplate configuration to use Apache HttpClient 4."><meta property="og:url" content="https://howtodoinjava.com/spring-restful/resttemplate-httpclient-java-config/"><meta property="og:site_name" content="HowToDoInJava"><meta property="article:publisher" content="http://www.facebook.com/HowToDoInJava"><meta property="article:author" content="http://www.facebook.com/HowToDoInJAVA"><meta property="article:tag" content="HttpClient"><meta property="article:tag" content="RestTemplate"><meta property="article:tag" content="Spring REST"><meta property="article:section" content="Spring REST"><meta property="og:image" content="https://cdn1.howtodoinjava.com/wp-content/uploads/2017/08/Spring-5.jpg"><meta property="og:image:secure_url" content="https://cdn1.howtodoinjava.com/wp-content/uploads/2017/08/Spring-5.jpg"><meta property="og:image:width" content="596"><meta property="og:image:height" content="298"><meta property="og:image:alt" content="Spring 5"><meta name="twitter:card" content="summary_large_image"><meta name="twitter:description" content="In Spring RestTemplate example, we learned to access REST APIs. Here we are extending the RestTemplate configuration to use Apache HttpClient 4."><meta name="twitter:title" content="Spring RestTemplate + HttpClient configuration example - HowToDoInJava"><meta name="twitter:site" content="@HowToDoInJava"><meta name="twitter:image" content="https://cdn1.howtodoinjava.com/wp-content/uploads/2017/08/Spring-5.jpg"><meta name="twitter:creator" content="@HowToDoInJAVA"> <script type="application/ld+json">{"@context":"https://schema.org","@type":"Person","url":"https://howtodoinjava.com/","sameAs":["http://www.facebook.com/HowToDoInJava","https://plus.google.com/+LokeshGupta","https://twitter.com/HowToDoInJava"],"@id":"#person","name":"Lokesh Gupta"}</script> <link rel="amphtml" href="https://howtodoinjava.com/spring-restful/resttemplate-httpclient-java-config/amp/"><link rel="dns-prefetch" href="https://s.w.org/"> <!--[if lt IE 9]> <script type='text/javascript' src='https://cdn2.howtodoinjava.com/wp-content/themes/genesis/lib/js/html5shiv.min.js?ver=3.7.3'></script> <![endif]--><link rel="canonical" href="https://howtodoinjava.com/spring-restful/resttemplate-httpclient-java-config/"><meta name="google-site-verification" content="EV_Uq1MFIe3lcKLlf4xhcabIz-68zGeWx8pjwQH3pB8"><meta name="msvalidate.01" content="C71A4DAE3450D101003DA6DCE7D44ADE"><link rel="dns-prefetch" href="https://howtodoinjava.com/"> <script async="" src="Spring%20RestTemplate%20+%20HttpClient%20configuration%20example%20-%20HowToDoInJava_files/adsbygoogle.js"></script> <script type="text/javascript" src="Spring%20RestTemplate%20+%20HttpClient%20configuration%20example%20-%20HowToDoInJava_files/3094.js"></script><link rel="stylesheet" type="text/css" href="Spring%20RestTemplate%20+%20HttpClient%20configuration%20example%20-%20HowToDoInJava_files/shCore.css"><link rel="stylesheet" type="text/css" href="Spring%20RestTemplate%20+%20HttpClient%20configuration%20example%20-%20HowToDoInJava_files/shThemeDefault.css"><style type="text/css" id="syntaxhighlighteranchor"></style><link rel="icon" href="https://cdn2.howtodoinjava.com/wp-content/uploads/2015/05/howtodoinjava_logo-55696c1cv1_site_icon-32x32.png" sizes="32x32"><link rel="icon" href="https://cdn1.howtodoinjava.com/wp-content/uploads/2015/05/howtodoinjava_logo-55696c1cv1_site_icon-256x256.png" sizes="192x192"><link rel="apple-touch-icon-precomposed" href="https://cdn1.howtodoinjava.com/wp-content/uploads/2015/05/howtodoinjava_logo-55696c1cv1_site_icon-256x256.png"><meta name="msapplication-TileImage" content="https://cdn2.howtodoinjava.com/wp-content/uploads/2015/05/howtodoinjava_logo-55696c1cv1_site_icon.png"><script src="Spring%20RestTemplate%20+%20HttpClient%20configuration%20example%20-%20HowToDoInJava_files/cse_element__en.js" type="text/javascript"></script><link type="text/css" rel="stylesheet" href="Spring%20RestTemplate%20+%20HttpClient%20configuration%20example%20-%20HowToDoInJava_files/defaulten.css"><link type="text/css" rel="stylesheet" href="Spring%20RestTemplate%20+%20HttpClient%20configuration%20example%20-%20HowToDoInJava_files/default.css"><style type="text/css">.gsc-control-cse{font-family:verdana, arial, sans-serif}.gsc-control-cse .gsc-table-result{font-family:verdana, arial, sans-serif}.gsc-control-cse{border-color:#FFFFFF;background-color:#FFFFFF}input.gsc-input,.gsc-input-box,.gsc-input-box-hover,.gsc-input-box-focus{border-color:#F9F9F9}.gsc-search-button-v2,.gsc-search-button-v2:hover,.gsc-search-button-v2:focus{border-color:#5890FF;background-color:#5890FF;background-image:none;filter:none}.gsc-search-button-v2 svg{fill:#FFFFFF}.gsc-tabHeader.gsc-tabhInactive{border-color:#F9F9F9;background-color:#F9F9F9}.gsc-tabHeader.gsc-tabhActive{border-color:#F9F9F9;border-bottom-color:#F9F9F9;background-color:#F9F9F9}.gsc-tabsArea{border-color:#F9F9F9}.gsc-webResult.gsc-result,.gsc-results .gsc-imageResult{border-color:#FFFFFF;background-color:#FFFFFF}.gsc-webResult.gsc-result:hover,.gsc-imageResult:hover{border-color:#FFFFFF;background-color:#FFFFFF}.gs-webResult.gs-result a.gs-title:link,.gs-webResult.gs-result a.gs-title:link b,.gs-imageResult a.gs-title:link,.gs-imageResult a.gs-title:link b{color:#3367D6}.gs-webResult.gs-result a.gs-title:visited,.gs-webResult.gs-result a.gs-title:visited b,.gs-imageResult a.gs-title:visited,.gs-imageResult a.gs-title:visited b{color:#3367D6}.gs-webResult.gs-result a.gs-title:hover,.gs-webResult.gs-result a.gs-title:hover b,.gs-imageResult a.gs-title:hover,.gs-imageResult a.gs-title:hover b{color:#0000CC}.gs-webResult.gs-result a.gs-title:active,.gs-webResult.gs-result a.gs-title:active b,.gs-imageResult a.gs-title:active,.gs-imageResult a.gs-title:active b{color:#3367D6}.gsc-cursor-page{color:#3367D6}a.gsc-trailing-more-results:link{color:#3367D6}.gs-webResult .gs-snippet,.gs-imageResult .gs-snippet,.gs-fileFormatType{color:#000000}.gs-webResult div.gs-visibleUrl,.gs-imageResult div.gs-visibleUrl{color:#999999}.gs-webResult div.gs-visibleUrl-short{color:#999999}.gs-webResult div.gs-visibleUrl-short{display:none}.gs-webResult div.gs-visibleUrl-long{display:block}.gs-promotion div.gs-visibleUrl-short{display:none}.gs-promotion div.gs-visibleUrl-long{display:block}.gsc-cursor-box{border-color:#FFFFFF}.gsc-results .gsc-cursor-box .gsc-cursor-page{border-color:#F9F9F9;background-color:#FFFFFF;color:#3367D6;}.gsc-results .gsc-cursor-box .gsc-cursor-current-page{border-color:#F9F9F9;background-color:#F9F9F9;color:#3367D6;}.gsc-webResult.gsc-result.gsc-promotion{border-color:#F3F3F3;background-color:#F3F3F3}.gsc-completion-title{color:#3367D6}.gsc-completion-snippet{color:#000000}.gs-promotion a.gs-title:link,.gs-promotion a.gs-title:link *,.gs-promotion .gs-snippet a:link{color:#3367D6}.gs-promotion a.gs-title:visited,.gs-promotion a.gs-title:visited *,.gs-promotion .gs-snippet a:visited{color:#3367D6}.gs-promotion a.gs-title:hover,.gs-promotion a.gs-title:hover *,.gs-promotion .gs-snippet a:hover{color:#0000CC}.gs-promotion a.gs-title:active,.gs-promotion a.gs-title:active *,.gs-promotion .gs-snippet a:active{color:#3367D6}.gs-promotion .gs-snippet,.gs-promotion .gs-title .gs-promotion-title-right,.gs-promotion .gs-title .gs-promotion-title-right *{color:#000000}.gs-promotion .gs-visibleUrl,.gs-promotion .gs-visibleUrl-short{color:#999999}.gcsc-find-more-on-google{color:#3367D6}.gcsc-find-more-on-google-magnifier{fill:#3367D6}</style></head><body class="post-template-default single single-post postid-10282 single-format-standard custom-header header-full-width sidebar-content-sidebar" itemscope="" itemtype="https://schema.org/WebPage"><div class="site-container"><header class="site-header" itemscope="" itemtype="https://schema.org/WPHeader"><div class="wrap"><div class="title-area"><p class="site-title"><a href="https://howtodoinjava.com/" title="HowToDoInJava">HowToDoInJava</a></p></div><nav class="nav-primary" aria-label="Main" itemscope="" itemtype="https://schema.org/SiteNavigationElement"><div class="wrap"><div class="responsive-menu-icon"></div><ul id="menu-category-menu" class="menu genesis-nav-menu menu-primary responsive-menu"><li id="menu-item-8094" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-8094"><a href="https://howtodoinjava.com/java-8-tutorial/" itemprop="url"><span itemprop="name">Java 8</span></a></li><li id="menu-item-11160" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-11160"><a href="https://howtodoinjava.com/java-regular-expression-tutorials/" itemprop="url"><span itemprop="name">Regex</span></a></li><li id="menu-item-11159" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-11159"><a href="https://howtodoinjava.com/java-concurrency-tutorial/" itemprop="url"><span itemprop="name">Concurrency</span></a></li><li id="menu-item-11158" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-11158"><a href="https://howtodoinjava.com/java-best-practices/" itemprop="url"><span itemprop="name">Best Practices</span></a></li><li id="menu-item-10224" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-10224"><a href="https://howtodoinjava.com/spring-boot-tutorials/" itemprop="url"><span itemprop="name">Spring Boot</span></a></li><li id="menu-item-11161" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-11161"><a href="https://howtodoinjava.com/junit-5-tutorial/" itemprop="url"><span itemprop="name">JUnit5</span></a></li><li id="menu-item-3631" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-3631"><a title="Java Interview Questions" rel="ipt-icon-bubbles2" href="https://howtodoinjava.com/java-interview-questions/" itemprop="url"><span itemprop="name">Interview Questions</span></a></li></ul></div></nav></div></header><div class="site-inner"><div class="wrap"><div class="content-sidebar-wrap"><main class="content"><article class="post-10282 post type-post status-publish format-standard has-post-thumbnail category-spring-restful tag-httpclient tag-resttemplate tag-spring-rest entry" itemscope="" itemtype="https://schema.org/CreativeWork"><header class="entry-header"><h1 class="entry-title" itemprop="headline">Spring RestTemplate + HttpClient configuration example</h1><p class="entry-meta">By <span class="entry-author" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><span class="entry-author-name" itemprop="name">Lokesh Gupta</span></span> | <span class="entry-categories">Filed Under: <a href="https://howtodoinjava.com/spring-restful/" rel="category tag">Spring REST</a></span></p></header><div class="entry-content" itemprop="text"><p>In <a href="https://howtodoinjava.com/spring/spring-restful/spring-restful-client-resttemplate-example/">Spring RestTemplate example</a>, we learned to access REST APIs inside Spring application. In this tutorial, we are extending the <strong>RestTemplate configuration</strong> to use <a href="https://hc.apache.org/httpcomponents-client-ga/">Apache HttpClient 4</a>.</p><p>The
 purpose of this tutorial is to give you pre-cooked recipe for little 
head-start, and save you from writing all bits and pieces, which really 
takes lots of time.</p><style>.beloposttitle300250 { text-align: center; margin-top: 20px; margin-bottom: 20px;} @media (min-width:960px) { .beloposttitle300250 { display: none !important; } }</style><div class="beloposttitle300250"><script async="" src="Spring%20RestTemplate%20+%20HttpClient%20configuration%20example%20-%20HowToDoInJava_files/adsbygoogle.js"></script> <ins class="adsbygoogle" style="display:block; text-align:center;" data-ad-layout="in-article" data-ad-format="fluid" data-ad-client="ca-pub-2827350136257294" data-ad-slot="4287400168"></ins> <script>(adsbygoogle = window.adsbygoogle || []).push({});</script></div><h2>1. HttpClient Configuration</h2><p>In <code>HttpClientConfig</code> class, we are configuring mainly two things –</p><ol><li><code><a href="https://hc.apache.org/httpcomponents-client-ga/httpclient/apidocs/org/apache/http/impl/conn/PoolingHttpClientConnectionManager.html" rel="noopener" target="_blank">PoolingHttpClientConnectionManager</a></code>
 – As name suggest, its connection pool manager. Here, connections are 
pooled on a per route basis. A request for a route which already the 
manager has persistent connections for available in the pool will be 
services by leasing a connection from the pool rather than creating a 
brand new connection.<p><code><a href="https://hc.apache.org/httpcomponents-client-ga/httpclient/apidocs/org/apache/http/conn/ConnectionKeepAliveStrategy.html" rel="noopener" target="_blank">ConnectionKeepAliveStrategy</a></code> helps in setting time which decide how long a connection can remain idle before being reused.</p></li><li>And set a <code>idleConnectionMonitor</code> thread, which periodically check all connections and free up which have not been used and idle time has elapsed.</li></ol><p>The real http client to use is <code><a href="https://hc.apache.org/httpcomponents-client-ga/httpclient/apidocs/org/apache/http/impl/client/CloseableHttpClient.html" rel="noopener" target="_blank">CloseableHttpClient</a></code> bean. It is what <code>RestTemplate</code> will use to get the connection to API endpoints.</p><div><div id="highlighter_986633" class="syntaxhighlighter nogutter  java  "><table cellspacing="0" cellpadding="0" border="0"><caption>HttpClientConfig.java</caption><tbody><tr><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="java keyword">package</code> <code class="java plain">com.howtodoinjava.config;</code></div><div class="line number2 index1 alt1">&nbsp;</div><div class="line number3 index2 alt2"><code class="java keyword">import</code> <code class="java plain">java.security.KeyManagementException;</code></div><div class="line number4 index3 alt1"><code class="java keyword">import</code> <code class="java plain">java.security.KeyStoreException;</code></div><div class="line number5 index4 alt2"><code class="java keyword">import</code> <code class="java plain">java.security.NoSuchAlgorithmException;</code></div><div class="line number6 index5 alt1"><code class="java keyword">import</code> <code class="java plain">java.util.concurrent.TimeUnit;</code></div><div class="line number7 index6 alt2">&nbsp;</div><div class="line number8 index7 alt1"><code class="java keyword">import</code> <code class="java plain">org.apache.http.HeaderElement;</code></div><div class="line number9 index8 alt2"><code class="java keyword">import</code> <code class="java plain">org.apache.http.HeaderElementIterator;</code></div><div class="line number10 index9 alt1"><code class="java keyword">import</code> <code class="java plain">org.apache.http.HttpResponse;</code></div><div class="line number11 index10 alt2"><code class="java keyword">import</code> <code class="java plain">org.apache.http.client.config.RequestConfig;</code></div><div class="line number12 index11 alt1"><code class="java keyword">import</code> <code class="java plain">org.apache.http.config.Registry;</code></div><div class="line number13 index12 alt2"><code class="java keyword">import</code> <code class="java plain">org.apache.http.config.RegistryBuilder;</code></div><div class="line number14 index13 alt1"><code class="java keyword">import</code> <code class="java plain">org.apache.http.conn.ConnectionKeepAliveStrategy;</code></div><div class="line number15 index14 alt2"><code class="java keyword">import</code> <code class="java plain">org.apache.http.conn.socket.ConnectionSocketFactory;</code></div><div class="line number16 index15 alt1"><code class="java keyword">import</code> <code class="java plain">org.apache.http.conn.socket.PlainConnectionSocketFactory;</code></div><div class="line number17 index16 alt2"><code class="java keyword">import</code> <code class="java plain">org.apache.http.conn.ssl.SSLConnectionSocketFactory;</code></div><div class="line number18 index17 alt1">&nbsp;</div><div class="line number19 index18 alt2"><code class="java keyword">import</code> <code class="java plain">org.apache.http.conn.ssl.TrustSelfSignedStrategy;</code></div><div class="line number20 index19 alt1"><code class="java keyword">import</code> <code class="java plain">org.apache.http.impl.client.CloseableHttpClient;</code></div><div class="line number21 index20 alt2"><code class="java keyword">import</code> <code class="java plain">org.apache.http.impl.client.HttpClients;</code></div><div class="line number22 index21 alt1"><code class="java keyword">import</code> <code class="java plain">org.apache.http.impl.conn.PoolingHttpClientConnectionManager;</code></div><div class="line number23 index22 alt2"><code class="java keyword">import</code> <code class="java plain">org.apache.http.message.BasicHeaderElementIterator;</code></div><div class="line number24 index23 alt1"><code class="java keyword">import</code> <code class="java plain">org.apache.http.protocol.HTTP;</code></div><div class="line number25 index24 alt2"><code class="java keyword">import</code> <code class="java plain">org.apache.http.protocol.HttpContext;</code></div><div class="line number26 index25 alt1"><code class="java keyword">import</code> <code class="java plain">org.apache.http.ssl.SSLContextBuilder;</code></div><div class="line number27 index26 alt2"><code class="java keyword">import</code> <code class="java plain">org.slf4j.Logger;</code></div><div class="line number28 index27 alt1"><code class="java keyword">import</code> <code class="java plain">org.slf4j.LoggerFactory;</code></div><div class="line number29 index28 alt2"><code class="java keyword">import</code> <code class="java plain">org.springframework.context.annotation.Bean;</code></div><div class="line number30 index29 alt1"><code class="java keyword">import</code> <code class="java plain">org.springframework.context.annotation.Configuration;</code></div><div class="line number31 index30 alt2"><code class="java keyword">import</code> <code class="java plain">org.springframework.scheduling.annotation.EnableScheduling;</code></div><div class="line number32 index31 alt1"><code class="java keyword">import</code> <code class="java plain">org.springframework.scheduling.annotation.Scheduled;</code></div><div class="line number33 index32 alt2">&nbsp;</div><div class="line number34 index33 alt1"><code class="java preprocessor">/**</code></div><div class="line number35 index34 alt2"><code class="java spaces">&nbsp;</code><code class="java preprocessor">* - Supports both HTTP and HTTPS</code></div><div class="line number36 index35 alt1"><code class="java spaces">&nbsp;</code><code class="java preprocessor">* - Uses a connection pool to re-use connections and save overhead of creating connections.</code></div><div class="line number37 index36 alt2"><code class="java spaces">&nbsp;</code><code class="java preprocessor">* - Has a custom connection keep-alive strategy (to apply a default keep-alive if one isn't specified)</code></div><div class="line number38 index37 alt1"><code class="java spaces">&nbsp;</code><code class="java preprocessor">* - Starts an idle connection monitor to continuously clean up stale connections.</code></div><div class="line number39 index38 alt2"><code class="java spaces">&nbsp;</code><code class="java preprocessor">*/</code></div><div class="line number40 index39 alt1"><code class="java color1">@Configuration</code></div><div class="line number41 index40 alt2"><code class="java color1">@EnableScheduling</code></div><div class="line number42 index41 alt1"><code class="java keyword">public</code> <code class="java keyword">class</code> <code class="java plain">HttpClientConfig {</code></div><div class="line number43 index42 alt2">&nbsp;</div><div class="line number44 index43 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">private</code> <code class="java keyword">static</code> <code class="java keyword">final</code> <code class="java plain">Logger LOGGER = LoggerFactory.getLogger(HttpClientConfig.</code><code class="java keyword">class</code><code class="java plain">);</code></div><div class="line number45 index44 alt2">&nbsp;</div><div class="line number46 index45 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java comments">// Determines the timeout in milliseconds until a connection is established.</code></div><div class="line number47 index46 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">private</code> <code class="java keyword">static</code> <code class="java keyword">final</code> <code class="java keyword">int</code> <code class="java plain">CONNECT_TIMEOUT = </code><code class="java value">30000</code><code class="java plain">;</code></div><div class="line number48 index47 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number49 index48 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java comments">// The timeout when requesting a connection from the connection manager.</code></div><div class="line number50 index49 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">private</code> <code class="java keyword">static</code> <code class="java keyword">final</code> <code class="java keyword">int</code> <code class="java plain">REQUEST_TIMEOUT = </code><code class="java value">30000</code><code class="java plain">;</code></div><div class="line number51 index50 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number52 index51 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java comments">// The timeout for waiting for data</code></div><div class="line number53 index52 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">private</code> <code class="java keyword">static</code> <code class="java keyword">final</code> <code class="java keyword">int</code> <code class="java plain">SOCKET_TIMEOUT = </code><code class="java value">60000</code><code class="java plain">;</code></div><div class="line number54 index53 alt1">&nbsp;</div><div class="line number55 index54 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">private</code> <code class="java keyword">static</code> <code class="java keyword">final</code> <code class="java keyword">int</code> <code class="java plain">MAX_TOTAL_CONNECTIONS = </code><code class="java value">50</code><code class="java plain">;</code></div><div class="line number56 index55 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">private</code> <code class="java keyword">static</code> <code class="java keyword">final</code> <code class="java keyword">int</code> <code class="java plain">DEFAULT_KEEP_ALIVE_TIME_MILLIS = </code><code class="java value">20</code> <code class="java plain">* </code><code class="java value">1000</code><code class="java plain">;</code></div><div class="line number57 index56 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">private</code> <code class="java keyword">static</code> <code class="java keyword">final</code> <code class="java keyword">int</code> <code class="java plain">CLOSE_IDLE_CONNECTION_WAIT_TIME_SECS = </code><code class="java value">30</code><code class="java plain">;</code></div><div class="line number58 index57 alt1">&nbsp;</div><div class="line number59 index58 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java color1">@Bean</code></div><div class="line number60 index59 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">public</code> <code class="java plain">PoolingHttpClientConnectionManager poolingConnectionManager() {</code></div><div class="line number61 index60 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">SSLContextBuilder builder = </code><code class="java keyword">new</code> <code class="java plain">SSLContextBuilder();</code></div><div class="line number62 index61 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">try</code> <code class="java plain">{</code></div><div class="line number63 index62 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">builder.loadTrustMaterial(</code><code class="java keyword">null</code><code class="java plain">, </code><code class="java keyword">new</code> <code class="java plain">TrustSelfSignedStrategy());</code></div><div class="line number64 index63 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">} </code><code class="java keyword">catch</code> <code class="java plain">(NoSuchAlgorithmException | KeyStoreException e) {</code></div><div class="line number65 index64 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">LOGGER.error(</code><code class="java string">"Pooling Connection Manager Initialisation failure because of "</code> <code class="java plain">+ e.getMessage(), e);</code></div><div class="line number66 index65 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">}</code></div><div class="line number67 index66 alt2">&nbsp;</div><div class="line number68 index67 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">SSLConnectionSocketFactory sslsf = </code><code class="java keyword">null</code><code class="java plain">;</code></div><div class="line number69 index68 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">try</code> <code class="java plain">{</code></div><div class="line number70 index69 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">sslsf = </code><code class="java keyword">new</code> <code class="java plain">SSLConnectionSocketFactory(builder.build());</code></div><div class="line number71 index70 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">} </code><code class="java keyword">catch</code> <code class="java plain">(KeyManagementException | NoSuchAlgorithmException e) {</code></div><div class="line number72 index71 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">LOGGER.error(</code><code class="java string">"Pooling Connection Manager Initialisation failure because of "</code> <code class="java plain">+ e.getMessage(), e);</code></div><div class="line number73 index72 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">}</code></div><div class="line number74 index73 alt1">&nbsp;</div><div class="line number75 index74 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">Registry&lt;ConnectionSocketFactory&gt; socketFactoryRegistry = RegistryBuilder</code></div><div class="line number76 index75 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">.&lt;ConnectionSocketFactory&gt;create().register(</code><code class="java string">"https"</code><code class="java plain">, sslsf)</code></div><div class="line number77 index76 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">.register(</code><code class="java string">"http"</code><code class="java plain">, </code><code class="java keyword">new</code> <code class="java plain">PlainConnectionSocketFactory())</code></div><div class="line number78 index77 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">.build();</code></div><div class="line number79 index78 alt2">&nbsp;</div><div class="line number80 index79 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">PoolingHttpClientConnectionManager poolingConnectionManager = </code><code class="java keyword">new</code> <code class="java plain">PoolingHttpClientConnectionManager(socketFactoryRegistry);</code></div><div class="line number81 index80 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">poolingConnectionManager.setMaxTotal(MAX_TOTAL_CONNECTIONS);</code></div><div class="line number82 index81 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">return</code> <code class="java plain">poolingConnectionManager;</code></div><div class="line number83 index82 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">}</code></div><div class="line number84 index83 alt1">&nbsp;</div><div class="line number85 index84 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java color1">@Bean</code></div><div class="line number86 index85 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">public</code> <code class="java plain">ConnectionKeepAliveStrategy connectionKeepAliveStrategy() {</code></div><div class="line number87 index86 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">return</code> <code class="java keyword">new</code> <code class="java plain">ConnectionKeepAliveStrategy() {</code></div><div class="line number88 index87 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java color1">@Override</code></div><div class="line number89 index88 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">public</code> <code class="java keyword">long</code> <code class="java plain">getKeepAliveDuration(HttpResponse response, HttpContext context) {</code></div><div class="line number90 index89 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">HeaderElementIterator it = </code><code class="java keyword">new</code> <code class="java plain">BasicHeaderElementIterator</code></div><div class="line number91 index90 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">(response.headerIterator(HTTP.CONN_KEEP_ALIVE));</code></div><div class="line number92 index91 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">while</code> <code class="java plain">(it.hasNext()) {</code></div><div class="line number93 index92 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">HeaderElement he = it.nextElement();</code></div><div class="line number94 index93 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">String param = he.getName();</code></div><div class="line number95 index94 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">String value = he.getValue();</code></div><div class="line number96 index95 alt1">&nbsp;</div><div class="line number97 index96 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">if</code> <code class="java plain">(value != </code><code class="java keyword">null</code> <code class="java plain">&amp;&amp; param.equalsIgnoreCase(</code><code class="java string">"timeout"</code><code class="java plain">)) {</code></div><div class="line number98 index97 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">return</code> <code class="java plain">Long.parseLong(value) * </code><code class="java value">1000</code><code class="java plain">;</code></div><div class="line number99 index98 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">}</code></div><div class="line number100 index99 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">}</code></div><div class="line number101 index100 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">return</code> <code class="java plain">DEFAULT_KEEP_ALIVE_TIME_MILLIS;</code></div><div class="line number102 index101 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">}</code></div><div class="line number103 index102 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">};</code></div><div class="line number104 index103 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">}</code></div><div class="line number105 index104 alt2">&nbsp;</div><div class="line number106 index105 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java color1">@Bean</code></div><div class="line number107 index106 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">public</code> <code class="java plain">CloseableHttpClient httpClient() {</code></div><div class="line number108 index107 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">RequestConfig requestConfig = RequestConfig.custom()</code></div><div class="line number109 index108 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">.setConnectionRequestTimeout(REQUEST_TIMEOUT)</code></div><div class="line number110 index109 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">.setConnectTimeout(CONNECT_TIMEOUT)</code></div><div class="line number111 index110 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">.setSocketTimeout(SOCKET_TIMEOUT).build();</code></div><div class="line number112 index111 alt1">&nbsp;</div><div class="line number113 index112 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">return</code> <code class="java plain">HttpClients.custom()</code></div><div class="line number114 index113 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">.setDefaultRequestConfig(requestConfig)</code></div><div class="line number115 index114 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">.setConnectionManager(poolingConnectionManager())</code></div><div class="line number116 index115 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">.setKeepAliveStrategy(connectionKeepAliveStrategy())</code></div><div class="line number117 index116 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">.build();</code></div><div class="line number118 index117 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">}</code></div><div class="line number119 index118 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number120 index119 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java color1">@Bean</code></div><div class="line number121 index120 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">public</code> <code class="java plain">Runnable idleConnectionMonitor(</code><code class="java keyword">final</code> <code class="java plain">PoolingHttpClientConnectionManager connectionManager) {</code></div><div class="line number122 index121 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">return</code> <code class="java keyword">new</code> <code class="java plain">Runnable() {</code></div><div class="line number123 index122 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java color1">@Override</code></div><div class="line number124 index123 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java color1">@Scheduled</code><code class="java plain">(fixedDelay = </code><code class="java value">10000</code><code class="java plain">)</code></div><div class="line number125 index124 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">public</code> <code class="java keyword">void</code> <code class="java plain">run() {</code></div><div class="line number126 index125 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">try</code> <code class="java plain">{</code></div><div class="line number127 index126 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">if</code> <code class="java plain">(connectionManager != </code><code class="java keyword">null</code><code class="java plain">) {</code></div><div class="line number128 index127 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">LOGGER.trace(</code><code class="java string">"run IdleConnectionMonitor - Closing expired and idle connections..."</code><code class="java plain">);</code></div><div class="line number129 index128 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">connectionManager.closeExpiredConnections();</code></div><div class="line number130 index129 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">connectionManager.closeIdleConnections(CLOSE_IDLE_CONNECTION_WAIT_TIME_SECS, TimeUnit.SECONDS);</code></div><div class="line number131 index130 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">} </code><code class="java keyword">else</code> <code class="java plain">{</code></div><div class="line number132 index131 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">LOGGER.trace(</code><code class="java string">"run IdleConnectionMonitor - Http Client Connection manager is not initialised"</code><code class="java plain">);</code></div><div class="line number133 index132 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">}</code></div><div class="line number134 index133 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">} </code><code class="java keyword">catch</code> <code class="java plain">(Exception e) {</code></div><div class="line number135 index134 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">LOGGER.error(</code><code class="java string">"run IdleConnectionMonitor - Exception occurred. msg={}, e={}"</code><code class="java plain">, e.getMessage(), e);</code></div><div class="line number136 index135 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">}</code></div><div class="line number137 index136 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">}</code></div><div class="line number138 index137 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">};</code></div><div class="line number139 index138 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">}</code></div><div class="line number140 index139 alt1"><code class="java plain">}</code></div></div></td></tr></tbody></table></div></div><h2>2. Spring RestTemplate Configuration</h2><p>Here we are configuring <code>RestTemplate</code> bean which we will finally use to invoke REST APIs. As mentioned above, it uses <code>CloseableHttpClient</code> bean instance to build <code><a href="https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/http/client/ClientHttpRequestFactory.html" rel="noopener" target="_blank">ClientHttpRequestFactory</a></code>, which is used to create <code>RestTemplate</code>.</p><ol><li><code><a href="https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/http/client/HttpComponentsClientHttpRequestFactory.html" rel="noopener" target="_blank">HttpComponentsClientHttpRequestFactory</a></code> is <code>ClientHttpRequestFactory</code> implementation that uses <em>Apache HttpComponents HttpClient</em> to create requests.</li><li>We have used <code>@Scheduled</code> annotation in <code>httpClient</code> configuration. To support this, we have to add support of scheduled execution of thread. For that, we have used bean <code>ThreadPoolTaskScheduler</code> which internally utilizes <a href="https://docs.oracle.com/javase/7/docs/api/java/util/concurrent/ScheduledThreadPoolExecutor.html">ScheduledThreadPoolExecutor</a> to schedule commands to run after a given delay, or to execute periodically.</li></ol><div><div id="highlighter_704758" class="syntaxhighlighter nogutter  java "><table cellspacing="0" cellpadding="0" border="0"><caption>RestTemplateConfig.java</caption><tbody><tr><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="java keyword">package</code> <code class="java plain">com.howtodoinjava.config;</code></div><div class="line number2 index1 alt1">&nbsp;</div><div class="line number3 index2 alt2"><code class="java keyword">import</code> <code class="java plain">org.apache.http.impl.client.CloseableHttpClient;</code></div><div class="line number4 index3 alt1"><code class="java keyword">import</code> <code class="java plain">org.springframework.beans.factory.annotation.Autowired;</code></div><div class="line number5 index4 alt2"><code class="java keyword">import</code> <code class="java plain">org.springframework.context.annotation.Bean;</code></div><div class="line number6 index5 alt1"><code class="java keyword">import</code> <code class="java plain">org.springframework.http.client.HttpComponentsClientHttpRequestFactory;</code></div><div class="line number7 index6 alt2"><code class="java keyword">import</code> <code class="java plain">org.springframework.scheduling.TaskScheduler;</code></div><div class="line number8 index7 alt1"><code class="java keyword">import</code> <code class="java plain">org.springframework.scheduling.concurrent.ThreadPoolTaskScheduler;</code></div><div class="line number9 index8 alt2"><code class="java keyword">import</code> <code class="java plain">org.springframework.web.client.RestTemplate;</code></div><div class="line number10 index9 alt1">&nbsp;</div><div class="line number11 index10 alt2"><code class="java keyword">public</code> <code class="java keyword">class</code> <code class="java plain">RestTemplateConfig {</code></div><div class="line number12 index11 alt1">&nbsp;</div><div class="line number13 index12 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java color1">@Autowired</code></div><div class="line number14 index13 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">CloseableHttpClient httpClient;</code></div><div class="line number15 index14 alt2">&nbsp;</div><div class="line number16 index15 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java color1">@Bean</code></div><div class="line number17 index16 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">public</code> <code class="java plain">RestTemplate restTemplate() {</code></div><div class="line number18 index17 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">RestTemplate restTemplate = </code><code class="java keyword">new</code> <code class="java plain">RestTemplate(clientHttpRequestFactory());</code></div><div class="line number19 index18 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">return</code> <code class="java plain">restTemplate;</code></div><div class="line number20 index19 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">}</code></div><div class="line number21 index20 alt2">&nbsp;</div><div class="line number22 index21 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java color1">@Bean</code></div><div class="line number23 index22 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">public</code> <code class="java plain">HttpComponentsClientHttpRequestFactory clientHttpRequestFactory() {</code></div><div class="line number24 index23 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">HttpComponentsClientHttpRequestFactory clientHttpRequestFactory = </code><code class="java keyword">new</code> <code class="java plain">HttpComponentsClientHttpRequestFactory();</code></div><div class="line number25 index24 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">clientHttpRequestFactory.setHttpClient(httpClient);</code></div><div class="line number26 index25 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">return</code> <code class="java plain">clientHttpRequestFactory;</code></div><div class="line number27 index26 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">}</code></div><div class="line number28 index27 alt1">&nbsp;</div><div class="line number29 index28 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java color1">@Bean</code></div><div class="line number30 index29 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">public</code> <code class="java plain">TaskScheduler taskScheduler() {</code></div><div class="line number31 index30 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">ThreadPoolTaskScheduler scheduler = </code><code class="java keyword">new</code> <code class="java plain">ThreadPoolTaskScheduler();</code></div><div class="line number32 index31 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">scheduler.setThreadNamePrefix(</code><code class="java string">"poolScheduler"</code><code class="java plain">);</code></div><div class="line number33 index32 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">scheduler.setPoolSize(</code><code class="java value">50</code><code class="java plain">);</code></div><div class="line number34 index33 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">return</code> <code class="java plain">scheduler;</code></div><div class="line number35 index34 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">}</code></div><div class="line number36 index35 alt1"><code class="java plain">}</code></div></div></td></tr></tbody></table></div></div><h2>3. How to use Spring RestTemplate</h2><p>To use above configured <code>RestTemplate</code>, simply inject it to controller or test class.</p><div><div id="highlighter_470674" class="syntaxhighlighter nogutter  java  "><table cellspacing="0" cellpadding="0" border="0"><caption>TestApplication.java</caption><tbody><tr><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="java keyword">package</code> <code class="java plain">com.howtodoinjava;</code></div><div class="line number2 index1 alt1">&nbsp;</div><div class="line number3 index2 alt2"><code class="java keyword">import</code> <code class="java plain">org.junit.Assert;</code></div><div class="line number4 index3 alt1"><code class="java keyword">import</code> <code class="java plain">org.junit.Test;</code></div><div class="line number5 index4 alt2"><code class="java keyword">import</code> <code class="java plain">org.junit.runner.RunWith;</code></div><div class="line number6 index5 alt1"><code class="java keyword">import</code> <code class="java plain">org.springframework.beans.factory.annotation.Autowired;</code></div><div class="line number7 index6 alt2"><code class="java keyword">import</code> <code class="java plain">org.springframework.test.context.ContextConfiguration;</code></div><div class="line number8 index7 alt1"><code class="java keyword">import</code> <code class="java plain">org.springframework.test.context.junit4.SpringJUnit4ClassRunner;</code></div><div class="line number9 index8 alt2"><code class="java keyword">import</code> <code class="java plain">org.springframework.web.client.RestTemplate;</code></div><div class="line number10 index9 alt1">&nbsp;</div><div class="line number11 index10 alt2"><code class="java keyword">import</code> <code class="java plain">com.howtodoinjava.config.HttpClientConfig;</code></div><div class="line number12 index11 alt1"><code class="java keyword">import</code> <code class="java plain">com.howtodoinjava.config.RestTemplateConfig;</code></div><div class="line number13 index12 alt2">&nbsp;</div><div class="line number14 index13 alt1"><code class="java color1">@RunWith</code><code class="java plain">(SpringJUnit4ClassRunner.</code><code class="java keyword">class</code><code class="java plain">)</code></div><div class="line number15 index14 alt2"><code class="java color1">@ContextConfiguration</code><code class="java plain">(classes = { RestTemplateConfig.</code><code class="java keyword">class</code><code class="java plain">, HttpClientConfig.</code><code class="java keyword">class</code> <code class="java plain">})</code></div><div class="line number16 index15 alt1"><code class="java keyword">public</code> <code class="java keyword">class</code> <code class="java plain">TestApplication {</code></div><div class="line number17 index16 alt2">&nbsp;</div><div class="line number18 index17 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java color1">@Autowired</code></div><div class="line number19 index18 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">RestTemplate restTemplate;</code></div><div class="line number20 index19 alt1">&nbsp;</div><div class="line number21 index20 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java color1">@Test</code></div><div class="line number22 index21 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">public</code> <code class="java keyword">void</code> <code class="java plain">getEmployees() {</code></div><div class="line number23 index22 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">final</code> <code class="java plain">String uri = </code><code class="java string">"<a href="http://localhost:8080/employees">http://localhost:8080/employees</a>"</code><code class="java plain">;</code></div><div class="line number24 index23 alt1">&nbsp;</div><div class="line number25 index24 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">String result = restTemplate.getForObject(uri, String.</code><code class="java keyword">class</code><code class="java plain">);</code></div><div class="line number26 index25 alt1">&nbsp;</div><div class="line number27 index26 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">Assert.assertEquals(</code><code class="java keyword">true</code><code class="java plain">, result.indexOf(</code><code class="java string">"Lokesh"</code><code class="java plain">) &gt; </code><code class="java value">0</code><code class="java plain">);</code></div><div class="line number28 index27 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">}</code></div><div class="line number29 index28 alt2"><code class="java plain">}</code></div></div></td></tr></tbody></table></div></div><h2>4. Maven Dependencies</h2><p>Primarily, you will be required to have two dependencies i.e. <code>httpclient</code> and <code>spring-web</code>. I am using spring boot application, so the pom file looks like this:</p><div><div id="highlighter_967332" class="syntaxhighlighter nogutter  xml"><table cellspacing="0" cellpadding="0" border="0"><caption>pom.xml</caption><tbody><tr><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="xml plain">&lt;</code><code class="xml keyword">project</code> <code class="xml color1">xmlns</code><code class="xml plain">=</code><code class="xml string">"<a href="http://maven.apache.org/POM/4.0.0">http://maven.apache.org/POM/4.0.0</a>"</code> <code class="xml color1">xmlns:xsi</code><code class="xml plain">=</code><code class="xml string">"<a href="http://www.w3.org/2001/XMLSchema-instance">http://www.w3.org/2001/XMLSchema-instance</a>"</code></div><div class="line number2 index1 alt1"><code class="xml spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="xml plain">xsi:schemaLocation="<a href="http://maven.apache.org/POM/4.0.0">http://maven.apache.org/POM/4.0.0</a> <a href="http://maven.apache.org/xsd/maven-4.0.0.xsd;">http://maven.apache.org/xsd/maven-4.0.0.xsd;</a></code></div><div class="line number3 index2 alt2"><code class="xml spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="xml plain">&lt;modelVersion&gt;4.0.0&lt;/</code><code class="xml keyword">modelVersion</code><code class="xml plain">&gt;</code></div><div class="line number4 index3 alt1">&nbsp;</div><div class="line number5 index4 alt2"><code class="xml spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="xml plain">&lt;</code><code class="xml keyword">groupId</code><code class="xml plain">&gt;com.howtodoinjava&lt;/</code><code class="xml keyword">groupId</code><code class="xml plain">&gt;</code></div><div class="line number6 index5 alt1"><code class="xml spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="xml plain">&lt;</code><code class="xml keyword">artifactId</code><code class="xml plain">&gt;springbootdemo&lt;/</code><code class="xml keyword">artifactId</code><code class="xml plain">&gt;</code></div><div class="line number7 index6 alt2"><code class="xml spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="xml plain">&lt;</code><code class="xml keyword">version</code><code class="xml plain">&gt;0.0.1-SNAPSHOT&lt;/</code><code class="xml keyword">version</code><code class="xml plain">&gt;</code></div><div class="line number8 index7 alt1"><code class="xml spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="xml plain">&lt;</code><code class="xml keyword">packaging</code><code class="xml plain">&gt;jar&lt;/</code><code class="xml keyword">packaging</code><code class="xml plain">&gt;</code></div><div class="line number9 index8 alt2">&nbsp;</div><div class="line number10 index9 alt1"><code class="xml spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="xml plain">&lt;</code><code class="xml keyword">name</code><code class="xml plain">&gt;springbootdemo&lt;/</code><code class="xml keyword">name</code><code class="xml plain">&gt;</code></div><div class="line number11 index10 alt2"><code class="xml spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="xml plain">&lt;</code><code class="xml keyword">url</code><code class="xml plain">&gt;<a href="http://maven.apache.org/">http://maven.apache.org</a>&lt;/</code><code class="xml keyword">url</code><code class="xml plain">&gt;</code></div><div class="line number12 index11 alt1">&nbsp;</div><div class="line number13 index12 alt2"><code class="xml spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="xml plain">&lt;</code><code class="xml keyword">parent</code><code class="xml plain">&gt;</code></div><div class="line number14 index13 alt1"><code class="xml spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="xml plain">&lt;</code><code class="xml keyword">groupId</code><code class="xml plain">&gt;org.springframework.boot&lt;/</code><code class="xml keyword">groupId</code><code class="xml plain">&gt;</code></div><div class="line number15 index14 alt2"><code class="xml spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="xml plain">&lt;</code><code class="xml keyword">artifactId</code><code class="xml plain">&gt;spring-boot-starter-parent&lt;/</code><code class="xml keyword">artifactId</code><code class="xml plain">&gt;</code></div><div class="line number16 index15 alt1"><code class="xml spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="xml plain">&lt;</code><code class="xml keyword">version</code><code class="xml plain">&gt;2.0.0.RELEASE&lt;/</code><code class="xml keyword">version</code><code class="xml plain">&gt;</code></div><div class="line number17 index16 alt2"><code class="xml spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="xml plain">&lt;/</code><code class="xml keyword">parent</code><code class="xml plain">&gt;</code></div><div class="line number18 index17 alt1">&nbsp;</div><div class="line number19 index18 alt2"><code class="xml spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="xml plain">&lt;</code><code class="xml keyword">properties</code><code class="xml plain">&gt;</code></div><div class="line number20 index19 alt1"><code class="xml spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="xml plain">&lt;</code><code class="xml keyword">java.version</code><code class="xml plain">&gt;1.8&lt;/</code><code class="xml keyword">java.version</code><code class="xml plain">&gt;</code></div><div class="line number21 index20 alt2"><code class="xml spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="xml plain">&lt;</code><code class="xml keyword">project.build.sourceEncoding</code><code class="xml plain">&gt;UTF-8&lt;/</code><code class="xml keyword">project.build.sourceEncoding</code><code class="xml plain">&gt;</code></div><div class="line number22 index21 alt1"><code class="xml spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="xml plain">&lt;/</code><code class="xml keyword">properties</code><code class="xml plain">&gt;</code></div><div class="line number23 index22 alt2">&nbsp;</div><div class="line number24 index23 alt1"><code class="xml spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="xml plain">&lt;</code><code class="xml keyword">dependencies</code><code class="xml plain">&gt;</code></div><div class="line number25 index24 alt2"><code class="xml spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number26 index25 alt1"><code class="xml spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="xml plain">&lt;</code><code class="xml keyword">dependency</code><code class="xml plain">&gt;</code></div><div class="line number27 index26 alt2"><code class="xml spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="xml plain">&lt;</code><code class="xml keyword">groupId</code><code class="xml plain">&gt;org.springframework.boot&lt;/</code><code class="xml keyword">groupId</code><code class="xml plain">&gt;</code></div><div class="line number28 index27 alt1"><code class="xml spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="xml plain">&lt;</code><code class="xml keyword">artifactId</code><code class="xml plain">&gt;spring-boot-starter-web&lt;/</code><code class="xml keyword">artifactId</code><code class="xml plain">&gt;</code></div><div class="line number29 index28 alt2"><code class="xml spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="xml plain">&lt;/</code><code class="xml keyword">dependency</code><code class="xml plain">&gt;</code></div><div class="line number30 index29 alt1"><code class="xml spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="xml plain">&lt;</code><code class="xml keyword">dependency</code><code class="xml plain">&gt;</code></div><div class="line number31 index30 alt2"><code class="xml spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="xml plain">&lt;</code><code class="xml keyword">groupId</code><code class="xml plain">&gt;org.springframework.boot&lt;/</code><code class="xml keyword">groupId</code><code class="xml plain">&gt;</code></div><div class="line number32 index31 alt1"><code class="xml spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="xml plain">&lt;</code><code class="xml keyword">artifactId</code><code class="xml plain">&gt;spring-boot-starter-hateoas&lt;/</code><code class="xml keyword">artifactId</code><code class="xml plain">&gt;</code></div><div class="line number33 index32 alt2"><code class="xml spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="xml plain">&lt;/</code><code class="xml keyword">dependency</code><code class="xml plain">&gt;</code></div><div class="line number34 index33 alt1"><code class="xml spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number35 index34 alt2"><code class="xml spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="xml plain">&lt;</code><code class="xml keyword">dependency</code><code class="xml plain">&gt;</code></div><div class="line number36 index35 alt1"><code class="xml spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="xml plain">&lt;</code><code class="xml keyword">groupId</code><code class="xml plain">&gt;org.springframework.boot&lt;/</code><code class="xml keyword">groupId</code><code class="xml plain">&gt;</code></div><div class="line number37 index36 alt2"><code class="xml spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="xml plain">&lt;</code><code class="xml keyword">artifactId</code><code class="xml plain">&gt;spring-boot-starter-test&lt;/</code><code class="xml keyword">artifactId</code><code class="xml plain">&gt;</code></div><div class="line number38 index37 alt1"><code class="xml spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="xml plain">&lt;/</code><code class="xml keyword">dependency</code><code class="xml plain">&gt;</code></div><div class="line number39 index38 alt2"><code class="xml spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="xml plain">&lt;</code><code class="xml keyword">dependency</code><code class="xml plain">&gt;</code></div><div class="line number40 index39 alt1"><code class="xml spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="xml plain">&lt;</code><code class="xml keyword">groupId</code><code class="xml plain">&gt;org.apache.httpcomponents&lt;/</code><code class="xml keyword">groupId</code><code class="xml plain">&gt;</code></div><div class="line number41 index40 alt2"><code class="xml spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="xml plain">&lt;</code><code class="xml keyword">artifactId</code><code class="xml plain">&gt;httpclient&lt;/</code><code class="xml keyword">artifactId</code><code class="xml plain">&gt;</code></div><div class="line number42 index41 alt1"><code class="xml spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="xml plain">&lt;/</code><code class="xml keyword">dependency</code><code class="xml plain">&gt;</code></div><div class="line number43 index42 alt2">&nbsp;</div><div class="line number44 index43 alt1"><code class="xml spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="xml plain">&lt;/</code><code class="xml keyword">dependencies</code><code class="xml plain">&gt;</code></div><div class="line number45 index44 alt2">&nbsp;</div><div class="line number46 index45 alt1"><code class="xml spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="xml plain">&lt;</code><code class="xml keyword">build</code><code class="xml plain">&gt;</code></div><div class="line number47 index46 alt2"><code class="xml spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="xml plain">&lt;</code><code class="xml keyword">plugins</code><code class="xml plain">&gt;</code></div><div class="line number48 index47 alt1"><code class="xml spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="xml plain">&lt;</code><code class="xml keyword">plugin</code><code class="xml plain">&gt;</code></div><div class="line number49 index48 alt2"><code class="xml spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="xml plain">&lt;</code><code class="xml keyword">groupId</code><code class="xml plain">&gt;org.springframework.boot&lt;/</code><code class="xml keyword">groupId</code><code class="xml plain">&gt;</code></div><div class="line number50 index49 alt1"><code class="xml spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="xml plain">&lt;</code><code class="xml keyword">artifactId</code><code class="xml plain">&gt;spring-boot-maven-plugin&lt;/</code><code class="xml keyword">artifactId</code><code class="xml plain">&gt;</code></div><div class="line number51 index50 alt2"><code class="xml spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="xml plain">&lt;/</code><code class="xml keyword">plugin</code><code class="xml plain">&gt;</code></div><div class="line number52 index51 alt1"><code class="xml spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="xml plain">&lt;/</code><code class="xml keyword">plugins</code><code class="xml plain">&gt;</code></div><div class="line number53 index52 alt2"><code class="xml spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="xml plain">&lt;/</code><code class="xml keyword">build</code><code class="xml plain">&gt;</code></div><div class="line number54 index53 alt1">&nbsp;</div><div class="line number55 index54 alt2"><code class="xml plain">&lt;/</code><code class="xml keyword">project</code><code class="xml plain">&gt;</code></div></div></td></tr></tbody></table></div></div><div class="noticeboxesde downgreennoticebox"><a href="https://howtodoinjava.com/wp-content/downloads/resttemplate-httpclient-java-config.zip">Download Sourcecode</a></div><p>Happy Learning !!</p><p>References:</p><p><a href="https://hc.apache.org/httpcomponents-client-4.3.x/tutorial/html/index.html">HttpClient Docs</a><br> <a href="https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/web/client/RestTemplate.html">Spring RestTemplate Java Doc</a></p><div class="bottomAdesense"><div id="waldo-tag-3099"></div></div></div><footer class="entry-footer"></footer></article><div class="after-entry widget-area"><section id="text-44" class="widget widget_text"><div class="widget-wrap"><div class="textwidget"><div style="margin-bottom:30px;"><script async="" src="Spring%20RestTemplate%20+%20HttpClient%20configuration%20example%20-%20HowToDoInJava_files/adsbygoogle.js"></script><ins class="adsbygoogle" style="display:block" data-ad-format="autorelaxed" data-ad-client="ca-pub-2827350136257294" data-ad-slot="7657554565"></ins><script>(adsbygoogle = window.adsbygoogle || []).push({});</script></div></div></div></section></div><section class="author-box" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><h4 class="author-box-title">About <span itemprop="name">Lokesh Gupta</span></h4><div class="author-box-content" itemprop="description"><p>Founded
 HowToDoInJava.com in late 2012. I love computers, programming and 
solving problems everyday. A family guy with fun loving nature. You can 
find me on <a href="https://facebook.com/howtodoinjava" rel="external">Facebook</a>, <a href="https://twitter.com/howtodoinjava" rel="external">Twitter</a> and <a href="https://plus.google.com/+LokeshGupta" rel="external">Google Plus</a>.</p></div></section><div class="entry-comments" id="comments"><h3>Feedback, Discussion and Comments</h3><ol class="comment-list"><li class="comment even thread-even depth-1" id="comment-30084"><article itemprop="comment" itemscope="" itemtype="https://schema.org/Comment"><header class="comment-header"><p class="comment-author" itemprop="author" itemscope="" itemtype="https://schema.org/Person"> <span itemprop="name">Bhargav</span></p><p class="comment-meta"><time class="comment-time" datetime="2018-12-21T17:35:20+00:00" itemprop="datePublished">December 21, 2018</time></p></header><div class="comment-content" itemprop="text"><p>Hi Lokesh,</p><p>Wen
 i configured same i got 404 while calling https rest call but when i 
post using postman the same url its working. I dont know the reason ?</p></div><div class="comment-reply"><a rel="nofollow" class="comment-reply-link" href="#comment-30084" onclick='return addComment.moveForm( "comment-30084", "30084", "respond", "10282" )' aria-label="Reply to Bhargav">Reply</a></div></article></li></ol></div><div id="respond" class="comment-respond"><h3 id="reply-title" class="comment-reply-title">Ask Questions &amp; Share Feedback <small><a rel="nofollow" id="cancel-comment-reply-link" href="https://howtodoinjava.com/spring-restful/resttemplate-httpclient-java-config/#respond" style="display:none;">Cancel reply</a></small></h3><form action="https://howtodoinjava.com/wp-comments-post.php" method="post" id="commentform" class="comment-form" novalidate=""><p class="comment-notes"><span id="email-notes">Your email address will not be published.</span> Required fields are marked <span class="required">*</span></p><p class="comment-form-comment"><label for="comment">Comment</label><textarea id="comment" name="comment" cols="45" rows="8" maxlength="65525" required="required"></textarea></p><div class="commentTags">*Want to Post Code Snippets or XML content? Please use <span class="tag">[java]</span> ... <span class="tag">[/java]</span> tags otherwise code may not appear partially or even fully. e.g.</div><pre>[java] <br>public static void main (String[] args) {<br>...<br>} <br>[/java]</pre><p class="comment-form-author"><label for="author">Name <span class="required">*</span></label> <input id="author" name="author" type="text" size="30" maxlength="245" required="required"></p><p class="comment-form-email"><label for="email">Email <span class="required">*</span></label> <input id="email" name="email" type="email" size="30" maxlength="100" aria-describedby="email-notes" required="required"></p><p class="comment-form-url"><label for="url">Website</label> <input id="url" name="url" type="url" size="30" maxlength="200"></p><p class="form-submit"><input name="submit" type="submit" id="submit" class="submit" value="Post Comment"> <input type="hidden" name="comment_post_ID" value="10282" id="comment_post_ID"> <input type="hidden" name="comment_parent" id="comment_parent" value="0"></p><p style="display: none;"><input type="hidden" id="akismet_comment_nonce" name="akismet_comment_nonce" value="14d22d1b38"></p><p style="display: none;"></p><input type="hidden" id="ak_js" name="ak_js" value="1550479766412"></form></div></main><aside class="sidebar sidebar-primary widget-area" role="complementary" aria-label="Primary Sidebar" itemscope="" itemtype="https://schema.org/WPSideBar"><section id="text-37" class="widget widget_text"><div class="widget-wrap"><h4 class="widget-title widgettitle">Search Tutorials</h4><div class="textwidget"><form action="https://howtodoinjava.com/search-results"> <input class="search-input" name="q" placeholder="Type and Press ENTER..." size="35" type="text"></form></div></div></section><section id="simple-social-icons-2" class="widget simple-social-icons"><div class="widget-wrap"><ul class="alignleft"><li class="ssi-email"><a href="mailto:howtodoinjava@gmail.com"><svg role="img" class="social-email" aria-labelledby="social-email-2"><title id="social-email-2">Email</title><use xlink:href="https://howtodoinjava.com/wp-content/plugins/simple-social-icons/symbol-defs.svg#social-email"></use></svg></a></li><li class="ssi-facebook"><a href="https://www.facebook.com/HowToDoInJava" target="_blank" rel="noopener noreferrer"><svg role="img" class="social-facebook" aria-labelledby="social-facebook-2"><title id="social-facebook-2">Facebook</title><use xlink:href="https://howtodoinjava.com/wp-content/plugins/simple-social-icons/symbol-defs.svg#social-facebook"></use></svg></a></li><li class="ssi-rss"><a href="https://howtodoinjava.com/feed/" target="_blank" rel="noopener noreferrer"><svg role="img" class="social-rss" aria-labelledby="social-rss-2"><title id="social-rss-2">RSS</title><use xlink:href="https://howtodoinjava.com/wp-content/plugins/simple-social-icons/symbol-defs.svg#social-rss"></use></svg></a></li><li class="ssi-twitter"><a href="https://twitter.com/HowToDoInJava" target="_blank" rel="noopener noreferrer"><svg role="img" class="social-twitter" aria-labelledby="social-twitter-2"><title id="social-twitter-2">Twitter</title><use xlink:href="https://howtodoinjava.com/wp-content/plugins/simple-social-icons/symbol-defs.svg#social-twitter"></use></svg></a></li></ul></div></section><section id="text-43" class="widget widget_text"><div class="widget-wrap"><div class="textwidget"><div style="margin-bottom: 6px;"><script async="" src="Spring%20RestTemplate%20+%20HttpClient%20configuration%20example%20-%20HowToDoInJava_files/adsbygoogle.js"></script><ins class="adsbygoogle" style="display: inline-block; width: 300px; height: 250px;" data-ad-client="ca-pub-2827350136257294" data-ad-slot="8031994161"></ins><script>(adsbygoogle = window.adsbygoogle || []).push({});</script></div><div style="margin-bottom: 6px;"><script async="" src="Spring%20RestTemplate%20+%20HttpClient%20configuration%20example%20-%20HowToDoInJava_files/adsbygoogle.js"></script><ins class="adsbygoogle" style="display:inline-block;width:300px;height:250px" data-ad-client="ca-pub-2827350136257294" data-ad-slot="4450741762"></ins><script>(adsbygoogle = window.adsbygoogle || []).push({});</script></div><div style="margin-bottom: 6px;"><script async="" src="Spring%20RestTemplate%20+%20HttpClient%20configuration%20example%20-%20HowToDoInJava_files/adsbygoogle.js"></script><ins class="adsbygoogle" style="display: inline-block; width: 300px; height: 600px;" data-ad-client="ca-pub-2827350136257294" data-ad-slot="8206506561"></ins><script>(adsbygoogle = window.adsbygoogle || []).push({});</script></div><div style="margin-bottom: 6px;"><div id="waldo-tag-3095"></div></div><div style="margin-bottom: 6px;"><div id="waldo-tag-3097"></div></div></div></div></section></aside></div><aside class="sidebar sidebar-secondary widget-area" role="complementary" aria-label="Secondary Sidebar" itemscope="" itemtype="https://schema.org/WPSideBar"><section id="nav_menu-28" class="widget widget_nav_menu"><div class="widget-wrap"><h4 class="widget-title widgettitle">Spring REST Tutorials</h4><div class="menu-spring-rest-container"><ul id="menu-spring-rest" class="menu"><li id="menu-item-5493" class="menu-item menu-item-type-post_type menu-item-object-post menu-item-5493"><a href="https://howtodoinjava.com/spring-restful/spring-rest-hello-world-json-example/" itemprop="url">Spring REST – JSON Example</a></li><li id="menu-item-5494" class="menu-item menu-item-type-post_type menu-item-object-post menu-item-5494"><a href="https://howtodoinjava.com/spring-restful/spring-rest-hello-world-xml-example/" itemprop="url">Spring REST – XML Example</a></li><li id="menu-item-5492" class="menu-item menu-item-type-post_type menu-item-object-post menu-item-5492"><a href="https://howtodoinjava.com/spring-restful/spring-restful-client-resttemplate-example/" itemprop="url">Spring REST – RestTemplate</a></li><li id="menu-item-5495" class="menu-item menu-item-type-post_type menu-item-object-post menu-item-5495"><a href="https://howtodoinjava.com/spring-restful/how-to-write-restful-webservices-using-spring-3-mvc/" itemprop="url">Spring REST – MVC</a></li><li id="menu-item-10651" class="menu-item menu-item-type-post_type menu-item-object-post menu-item-10651"><a href="https://howtodoinjava.com/spring-restful/resttemplate-builder/" itemprop="url">Spring REST – RestTemplateBuilder</a></li><li id="menu-item-10285" class="menu-item menu-item-type-post_type menu-item-object-post current-menu-item menu-item-10285"><a href="https://howtodoinjava.com/spring-restful/resttemplate-httpclient-java-config/" itemprop="url">RestTemplate with HttpClient</a></li><li id="menu-item-10649" class="menu-item menu-item-type-post_type menu-item-object-post menu-item-10649"><a href="https://howtodoinjava.com/spring-restful/clienthttprequestinterceptor/" itemprop="url">ClientHttpRequestInterceptor</a></li></ul></div></div></section><section id="nav_menu-103" class="widget widget_nav_menu"><div class="widget-wrap"><h4 class="widget-title widgettitle">Popular Tutorials</h4><div class="menu-all-tutorials-container"><ul id="menu-all-tutorials" class="menu"><li id="menu-item-12031" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-12031"><a href="https://howtodoinjava.com/java-8-tutorial/" itemprop="url">Java 8 Tutorial</a></li><li id="menu-item-10311" class="menu-item menu-item-type-post_type menu-item-object-post menu-item-10311"><a href="https://howtodoinjava.com/java/basics/what-is-java-programming-language/" itemprop="url">Core Java Tutorial</a></li><li id="menu-item-12032" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-12032"><a href="https://howtodoinjava.com/java-collections/" itemprop="url">Java Collections</a></li><li id="menu-item-12033" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-12033"><a href="https://howtodoinjava.com/java-concurrency-tutorial/" itemprop="url">Java Concurrency</a></li><li id="menu-item-11314" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-11314"><a href="https://howtodoinjava.com/spring-boot-tutorials/" itemprop="url">Spring Boot Tutorial</a></li><li id="menu-item-10318" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-10318"><a href="https://howtodoinjava.com/spring-aop-tutorial/" itemprop="url">Spring AOP Tutorial</a></li><li id="menu-item-10308" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-10308"><a href="https://howtodoinjava.com/spring-mvc-tutorial/" itemprop="url">Spring MVC Tutorial</a></li><li id="menu-item-10309" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-10309"><a href="https://howtodoinjava.com/spring-security-tutorial/" itemprop="url">Spring Security Tutorial</a></li><li id="menu-item-10292" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-10292"><a href="https://howtodoinjava.com/hibernate-tutorials/" itemprop="url">Hibernate Tutorial</a></li><li id="menu-item-10303" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-10303"><a href="https://howtodoinjava.com/jersey-jax-rs-tutorials/" itemprop="url">Jersey Tutorial</a></li><li id="menu-item-10306" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-10306"><a href="https://howtodoinjava.com/maven/" itemprop="url">Maven Tutorial</a></li><li id="menu-item-10305" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-10305"><a href="https://howtodoinjava.com/log4j2/" itemprop="url">Log4j Tutorial</a></li><li id="menu-item-12034" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-12034"><a href="https://howtodoinjava.com/java-regular-expression-tutorials/" itemprop="url">Regex Tutorial</a></li></ul></div></div></section></aside></div></div><div class="before-footer"><div class="wrap"><section id="text-45" class="widget widget_text"><div class="widget-wrap"><div class="textwidget"><style>.hideOnMobile { display: block; } @media (max-width:960px) { .hideOnMobile { display: none; } }</style><div class="hideOnMobile" style="margin: 10px auto; text-align: center; width: 728px;"><div id="waldo-tag-3101"></div></div></div></div></section></div></div><div class="footer-widgets"><div class="wrap"><div class="widget-area footer-widgets-1 footer-widget-area"><section id="nav_menu-6" class="widget widget_nav_menu"><div class="widget-wrap"><h4 class="widget-title widgettitle">Meta Links</h4><div class="menu-meta-links-container"><ul id="menu-meta-links" class="menu"><li id="menu-item-3574" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-3574"><a href="https://howtodoinjava.com/advertise/" itemprop="url">Advertise</a></li><li id="menu-item-3570" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-3570"><a href="https://howtodoinjava.com/contact/" itemprop="url">Contact Us</a></li><li id="menu-item-3568" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-3568"><a href="https://howtodoinjava.com/privacy-policy/" itemprop="url">Privacy policy</a></li><li id="menu-item-3571" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-3571"><a href="https://howtodoinjava.com/about/" itemprop="url">About Me</a></li></ul></div></div></section></div></div></div><footer class="site-footer" itemscope="" itemtype="https://schema.org/WPFooter"><div class="wrap"><p style="margin: 20px auto;max-width: 800px;">Copyright © 2016 · HowToDoInjava.com · All Rights Reserved. | <a href="https://howtodoinjava.com/sitemap.xml">Sitemap</a></p></div></footer></div><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-40697607-1', 'auto');
  ga('set', 'dimension1', 'Test');
  ga('send', 'pageview');</script> <script>(function() {
    var cx = '000292789241211868774:cvclu5feha4';
    var gcse = document.createElement('script');
    gcse.type = 'text/javascript';
    gcse.async = true;
    gcse.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') +
        '//cse.google.com/cse.js?cx=' + cx;
    var s = document.getElementsByTagName('script')[0];
    s.parentNode.insertBefore(gcse, s);
  })();</script><style type="text/css" media="screen">#simple-social-icons-2 ul li a, #simple-social-icons-2 ul li a:hover, #simple-social-icons-2 ul li a:focus { background-color: #ffffff !important; border-radius: 3px; color: #666666 !important; border: 1px #666666 solid !important; font-size: 18px; padding: 9px; }  #simple-social-icons-2 ul li a:hover, #simple-social-icons-2 ul li a:focus { background-color: #ffffff !important; border-color: #333333 !important; color: #333333 !important; }  #simple-social-icons-2 ul li a:focus { outline: 1px dotted #ffffff !important; }</style><script type="text/javascript" src="Spring%20RestTemplate%20+%20HttpClient%20configuration%20example%20-%20HowToDoInJava_files/shCore.js"></script> <script type="text/javascript" src="Spring%20RestTemplate%20+%20HttpClient%20configuration%20example%20-%20HowToDoInJava_files/shBrushJava.js"></script> <script type="text/javascript" src="Spring%20RestTemplate%20+%20HttpClient%20configuration%20example%20-%20HowToDoInJava_files/shBrushXml.js"></script> <script type="text/javascript">(function(){
		var corecss = document.createElement('link');
		var themecss = document.createElement('link');
		var corecssurl = "https://cdn2.howtodoinjava.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/styles/shCore.css?ver=3.0.9b";
		if ( corecss.setAttribute ) {
				corecss.setAttribute( "rel", "stylesheet" );
				corecss.setAttribute( "type", "text/css" );
				corecss.setAttribute( "href", corecssurl );
		} else {
				corecss.rel = "stylesheet";
				corecss.href = corecssurl;
		}
		document.getElementsByTagName("head")[0].insertBefore( corecss, document.getElementById("syntaxhighlighteranchor") );
		var themecssurl = "https://cdn1.howtodoinjava.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/styles/shThemeDefault.css?ver=3.0.9b";
		if ( themecss.setAttribute ) {
				themecss.setAttribute( "rel", "stylesheet" );
				themecss.setAttribute( "type", "text/css" );
				themecss.setAttribute( "href", themecssurl );
		} else {
				themecss.rel = "stylesheet";
				themecss.href = themecssurl;
		}
		//document.getElementById("syntaxhighlighteranchor").appendChild(themecss);
		document.getElementsByTagName("head")[0].insertBefore( themecss, document.getElementById("syntaxhighlighteranchor") );
	})();
	SyntaxHighlighter.config.strings.expandSource = '+ expand source';
	SyntaxHighlighter.config.strings.help = '?';
	SyntaxHighlighter.config.strings.alert = 'SyntaxHighlighter\n\n';
	SyntaxHighlighter.config.strings.noBrush = 'Can\'t find brush for: ';
	SyntaxHighlighter.config.strings.brushNotHtmlScript = 'Brush wasn\'t configured for html-script option: ';
	SyntaxHighlighter.defaults['gutter'] = false;
	SyntaxHighlighter.defaults['pad-line-numbers'] = false;
	SyntaxHighlighter.defaults['toolbar'] = false;
	SyntaxHighlighter.all();

	// Infinite scroll support
	if ( typeof( jQuery ) !== 'undefined' ) {
		jQuery( function( $ ) {
			$( document.body ).on( 'post-load', function() {
				SyntaxHighlighter.highlight();
			} );
		} );
	}</script> <script type="text/javascript" defer="defer" src="Spring%20RestTemplate%20+%20HttpClient%20configuration%20example%20-%20HowToDoInJava_files/autoptimize_0a0b377c4f0dbaa23d95b3d0b04f216d.js"></script>
</body></html>