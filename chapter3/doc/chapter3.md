### Profiles
* Profile - это набор бинов.
* Каждый профиль имеет имя, при активации профиля
создаются его бины.
* В одну и ту же точку внедрения могут быть инжектированы
различные бины, в зависимости от активного профиля.
* @Profile("имя") - аннотация определяющая принадлежность бина
к именованному профилю.
* xml-аналог:
```xml
<beans profile="имя"/>
можно определить атрибут profile на корневом элементе beans,
а можно использовать вложенные элементы beans
```
* Выбор активного профиля определяется свойствами:
```java
//активные профили, профили по умолчанию выключаются
spring.profiles.active=profile1,profile2
//активные профили по умолчанию
spring.profiles.default=profile3,profile4
```
* Задавать эти свойства можно несколькими методами:
  1. Как переменные окуржения
  2. Как переменные jvm
  3. Как параметры сервлета
  4. @ActiveProfiles в тестах
### Создание бинов по условию
* Аннотация @Conditional(класс-наследник интерфейса Condition) позволяет
создавать или не создавать бин, в зависимости от условия, оперделяемого
в наследнике Condition.
![conditional](conditional.png)
### Выбор реализации бина
* @Primary - этой аннотацией снабжается реализация по умолчанию. Если
есть много реализаций бина, то @Primary инжектируется в отсутствии
дополнительной конфигурации.
```xml
аналог в xml -  аттрибут primary
```
* @Qualifier("id бина") - инжектировать бин по его имени,
Можно аннотировать сам бин и/или место инжекции бина.
* Можно создать кастомную аннотацию-квалификатор и аннотировать
ей бин и место его внедрения.
![dessert](dessert.png)
